/* 레이아웃 변수 설정 */
:root {
    --bg: #f4f6f8;
    --ink: #222;
    --muted: #6b7280;
    --line: #e5e7eb;
    --brand: #7c3aed;
    --brand-2: #8b5cf6;
    --chip: #f1f5f9;
    --shadow: 0 6px 18px rgba(16, 24, 40, .06);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
    margin: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "맑은 고딕", sans-serif;
}

.diary-container {
    max-width: 900px;
    width: 94%;
    margin: 24px auto 60px;
    background: #fff;
    border: 1px solid var(--line);
    border-radius: 16px;
    padding: 24px 20px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, .03);
}

/* 헤더 */
.diary-header { text-align: center; margin-bottom: 16px; }
.diary-header h1 { margin: 0 0 6px; font-size: 28px; color: var(--brand); }
.diary-header p { margin: 0; font-size: 14px; color: var(--muted); }

/* 메타 정보 */
.diary-meta { margin: 16px 0; font-size: 14px; color: #374151; }
.meta-row { margin: 6px 0; display: flex; align-items: center; gap: 8px; }
.meta-label { font-weight: 700; color: #06b6d4; min-width: 48px; }
.meta-value { color: var(--muted); display: inline-flex; align-items: center; }
#metaMood img { width: 80px; height: 80px; border-radius: 16px; object-fit: cover; display: block; }

/* 질문 모아보기 카드 스타일 */
.questions-card {
    background: #fdfcff; 
    border: 1px solid #e9d5ff;
    border-radius: 12px;
    padding: 16px 20px;
    margin-bottom: 20px;
}

.questions-title {
    margin: 0 0 12px 0;
    font-size: 15px;
    color: #6d28d9;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center; /* 제목 가운데 정렬 */
    gap: 6px;
}

.questions-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* 질문 아이템 공통 */
.saved-question-item {
    background: #ffffff; /* 배경 흰색 */
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    font-size: 14px;
    color: #222; /* ✅ 기본 글자색 검정 */
    line-height: 1.5;
    
    box-shadow: 0 1px 2px rgba(0,0,0,0.03);
    
    /* 뱃지 절대 위치 및 정렬 */
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center; /* 내용 가운데 정렬 */
    
    padding: 12px 70px; 
    min-height: 46px;
}

/* 뱃지 스타일 (왼쪽 고정) */
.q-badge {
    font-size: 11px;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 6px;
    flex-shrink: 0;
    letter-spacing: -0.5px;

    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
}

/* --- 카테고리별 색상 (테두리와 뱃지만 적용, 글자색은 제거) --- */

/* 1. MBTI 질문 (하늘색) */
.saved-question-item.question-mbti {
    border-color: #7dd3fc;
}
.saved-question-item.question-mbti .q-badge {
    background-color: #e0f2fe;
    color: #0284c7;
}

/* 2. 기본 질문 (핑크색) */
.saved-question-item.question-basic {
    border-color: #f9a8d4;
}
.saved-question-item.question-basic .q-badge {
    background-color: #fce7f3;
    color: #be185d;
}

/* 3. 사용자 질문 (민트색) */
.saved-question-item.question-custom {
    border-color: #34d399;
}
.saved-question-item.question-custom .q-badge {
    background-color: #d1fae5;
    color: #059669;
}

/* 질문 텍스트 공통 스타일 */
.saved-question-item .q-text {
    word-break: keep-all;
    font-weight: 500;
    text-align: center; /* 텍스트 가운데 정렬 */
    width: 100%;
    color: #222; /* ✅ 텍스트 색상 검정색으로 고정 */
}

/* 본문 카드 */
.entry-card {
    background: #fff;
    border: 1px solid var(--line);
    border-radius: 14px;
    padding: 16px 18px;
    box-shadow: 0 2px 10px rgba(139, 92, 246, .06);
    margin-top: 8px;
}

.entry-title {
    margin: 0 0 12px;
    font-size: 20px;
    color: var(--brand);
    font-weight: 700;
}

/* 마크다운 렌더링 영역 */
.entry-body {
    line-height: 1.75;
    color: #1f2937;
    font-size: 16px;
    min-height: 160px;
    margin-bottom: 16px;
}

/* 마크다운 스타일 */
.entry-body h1, .entry-body h2, .entry-body h3 { margin-top: 0.8em; margin-bottom: 0.4em; font-weight: 700; color: #111827; }
.entry-body h1 { font-size: 1.6rem; }
.entry-body h2 { font-size: 1.35rem; }
.entry-body h3 { font-size: 1.15rem; }
.entry-body p { margin: 0.2em 0 0.7em; }
.entry-body ul, .entry-body ol { padding-left: 1.3rem; margin: 0.2em 0 0.7em; }
.entry-body li { margin: 0.15em 0; }
.entry-body code { font-family: monospace; font-size: 0.95em; background: #f3f4ff; padding: 2px 4px; border-radius: 4px; }
.entry-body pre code { display: block; padding: 10px 12px; border-radius: 8px; background: #111827; color: #e5e7eb; overflow-x: auto; }

/* 일기 사진들 */
.entry-photos {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 12px;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid var(--line);
}

.entry-photo-item {
    width: 100%;
    height: 120px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid var(--line);
    cursor: pointer;
    transition: transform 0.15s, box-shadow 0.15s;
}

.entry-photo-item img { width: 100%; height: 100%; object-fit: cover; }
.entry-photo-item:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2); }

/* 버튼 */
.button-row { margin-top: 14px; display: flex; gap: 8px; }
.btn {
    display: inline-block; padding: 10px 14px; font-size: 14px;
    border: 1px solid #d1d5db; border-radius: 8px; background: #eef2f7;
    color: #111; text-decoration: none; cursor: pointer;
}
.btn:hover { background: #e0e7ff; }

/* 오늘의 한 줄 요약 */
.summary-section {
    margin-top: 24px; border: 1px solid #dcdcdc; border-radius: 8px;
    padding: 14px 16px; background: #fafafa;
}
.summary-section h3 { margin: 0 0 8px 0; font-size: 16px; color: #6a5acd; }
.summary-section p { margin: 0; font-size: 15px; line-height: 1.6; color: #333; }

/* 작년 오늘의 나 보기 */
.lastyear-section {
    margin-top: 24px; border: 1px solid #e0d4fa; border-radius: 8px;
    padding: 14px 16px; background: #f8f5ff;
}
.lastyear-section h3 { margin: 0 0 10px 0; font-size: 16px; color: #6a5acd; }
.lastyear-entry { border: 1px solid #d7c8f8; border-radius: 8px; background: #ffffff; padding: 12px; margin-top: 8px; }
.lastyear-meta { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-size: 13px; }
.chip { background: #f4f1ff; border: 1px solid #ddd0fa; border-radius: 12px; padding: 4px 8px; }
.chip.mood { background: #fef8e7; border-color: #fce8a4; }
.chip.weather { background: #eaf4ff; border-color: #b8dcff; }
.lastyear-date { margin-left: auto; color: #666; font-size: 12px; }
.lastyear-title { margin: 8px 0 6px; font-size: 16px; font-weight: 600; color: var(--brand); }
.lastyear-body { font-size: 14px; color: #333; line-height: 1.6; margin: 0; }
.lastyear-link { display: inline-block; margin-top: 10px; font-size: 13px; color: var(--brand); text-decoration: none; }
.lastyear-link:hover { text-decoration: underline; }
.lastyear-empty { text-align: center; border: 1px dashed #d6cafa; border-radius: 8px; background: #f9f7ff; padding: 16px; margin-top: 8px; }
.lastyear-empty .emoji { font-size: 30px; margin-bottom: 4px; }
.lastyear-empty .empty-text { font-size: 14px; color: #555; margin: 0; }
.lastyear-empty .empty-subtext { font-size: 13px; color: #777; margin: 0; }

/* 반응형 */
@media (max-width:560px) { .diary-container { width: 96%; } }
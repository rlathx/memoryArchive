<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Memory Archive | Diary</title>

    <link rel="stylesheet" href="diary_style.css" />

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <div class="diary-container">
        <div class="diary-header">
            <h1>오늘의 기록 ✍️</h1>
            <p>기억을 담는 하루, Memory Archive</p>
        </div>

        <div class="diary-meta">
            <div class="meta-row">
                <span class="meta-label">날짜:</span>
                <span class="meta-value" id="dateText">—</span>
            </div>
            <div class="meta-row">
                <span class="meta-label">기분:</span>
                <span class="meta-value" id="moodNow">—</span>
            </div>
            <div class="meta-row">
                <span class="meta-label">날씨:</span>
                <span class="meta-value" id="weatherNow">—</span>
            </div>
        </div>

        <div class="question-section">
            <h3>
                오늘의 질문 💭
                <button class="btn-reset" id="btnRefreshQuestions">
                    <i class="bi bi-arrow-clockwise"></i> 새로고침
                </button>
            </h3>
            <p class="question-guide-text">일기를 쓸 때 활용한 질문을 선택해주세요!</p>
            <ul id="question-list"></ul>

        </div>
        <div class="diary-input">
            <input type="text" id="diaryTitle" class="diary-title-input" placeholder="오늘의 제목을 입력하세요 📌" />

            <div class="diary-view-toggle-row">
                <span class="diary-view-label">내용</span>
                <div class="view-toggle">
                    <button type="button" class="toggle-btn active" id="btnMarkdownView">
                        <span>Markdown</span>
                    </button>
                    <button type="button" class="toggle-btn" id="btnRenderedView">
                        <span>렌더링</span>
                    </button>
                </div>
            </div>

            <textarea id="note" placeholder="오늘의 하루를 마크다운으로 기록해보세요... ✨"></textarea>

            <div id="noteRendered" class="diary-rendered"></div>

            <div class="photo-attach-section">
                <label for="notePhotoInput" class="btn btn-photo-attach">
                    📷 사진 첨부
                </label>
                <input type="file" id="notePhotoInput" accept="image/*" multiple style="display:none;" />
                <div id="notePhotoPreview" class="note-photo-preview"></div>
            </div>
        </div>

        <div class="button-row">
            <button type="button" class="btn" id="btnBack">← 뒤로가기</button>
            <button type="button" class="btn save" id="btnSave">저장하기 💾</button>
        </div>

        <div class="emoji-section">
            <h3>오늘의 기분은 어떤가요?<button class="btn-reset" id="btnResetMood">초기화</button></h3>
            <div class="emoji-list" id="moodList">
                <span class="emoji-item">😊</span><span class="emoji-item">😢</span><span class="emoji-item">😡</span>
                <span class="emoji-item">😍</span><span class="emoji-item">😴</span><span class="emoji-item">🥳</span>
                <span class="emoji-item">😎</span><span class="emoji-item">🤔</span><span class="emoji-item">😭</span>
                <label class="emoji-item emoji-photo-label" id="moodPhotoLabel">
                    📷
                    <input type="file" id="moodPhotoInput" accept="image/*" style="display:none;" />
                </label>
            </div>
            <div id="moodPhotoPreview" class="photo-preview" style="display:none;">
                <img id="moodPhotoImg" src="" alt="기분 사진" />
                <button type="button" class="btn-remove-photo" id="btnRemoveMoodPhoto">✕</button>
            </div>

            <h3>오늘의 날씨는 어떤가요?<button class="btn-reset" id="btnResetWeather">초기화</button></h3>
            <div class="emoji-list" id="weatherList">
                <span class="emoji-item">☀️</span><span class="emoji-item">🌤️</span><span class="emoji-item">⛅</span>
                <span class="emoji-item">🌧️</span><span class="emoji-item">⛈️</span><span class="emoji-item">❄️</span>
                <span class="emoji-item">🌨️</span><span class="emoji-item">🌈</span><span class="emoji-item">💨</span>
            </div>
        </div>
    </div>
    <script defer src="diary.js"></script>
</body>

</html>